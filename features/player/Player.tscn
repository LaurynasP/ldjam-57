[gd_scene load_steps=11 format=3 uid="uid://da1p078wf0dfu"]

[ext_resource type="Script" uid="uid://y73xnw6ot1ol" path="res://features/player/player.gd" id="1_yrnqm"]
[ext_resource type="PackedScene" uid="uid://bdns8spnm3jxn" path="res://assets/prefabs/characters/dwarf.tscn" id="2_mjcdy"]
[ext_resource type="Script" uid="uid://lhyiol8siyae" path="res://features/stations/station_ui_billboard.gd" id="3_47nop"]
[ext_resource type="Script" uid="uid://b8v85bkyjg24j" path="res://features/stations/station_ui.gd" id="4_dcbbn"]
[ext_resource type="PackedScene" uid="uid://22wue4dyb3ai" path="res://features/gameplay_ui/timer_bar.tscn" id="5_vld8p"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_mjcdy"]
radius = 0.863903
height = 3.08181

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yrnqm"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.14902)

[sub_resource type="BoxShape3D" id="BoxShape3D_yrnqm"]
size = Vector3(2, 2.75, 3.5)

[sub_resource type="ViewportTexture" id="ViewportTexture_t5ic0"]
viewport_path = NodePath("Billboard/SubViewport")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_47nop"]
bg_color = Color(0.227451, 0.227451, 0.227451, 0.619608)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_yrnqm")

[node name="dwarf_mixamo_mesh" parent="." instance=ExtResource("2_mjcdy")]
transform = Transform3D(-2, 0, 3.01992e-07, 0, 2, 0, -3.01992e-07, 0, -2, 0, 0, 0)

[node name="Skeleton3D" parent="dwarf_mixamo_mesh/Armature" index="0"]
bones/0/position = Vector3(-0.0240073, 0.915877, 0.0403794)
bones/0/rotation = Quaternion(-0.0207344, -0.00119527, -0.00844588, 0.999749)
bones/1/rotation = Quaternion(-0.0337916, -0.0024701, 0.00111262, 0.999425)
bones/2/rotation = Quaternion(0.00884927, -0.0270724, 0.00178818, 0.999593)
bones/3/rotation = Quaternion(0.00866433, -0.02702, 0.00219389, 0.999595)
bones/4/rotation = Quaternion(0.0418326, 0.0131482, -0.0116569, 0.99897)
bones/5/rotation = Quaternion(0.0426983, -0.00477638, 0.0279798, 0.998685)
bones/8/rotation = Quaternion(-0.522692, -0.464441, 0.57655, -0.422703)
bones/9/rotation = Quaternion(0.416276, 0.160141, 0.112183, 0.887966)
bones/10/rotation = Quaternion(0.0222428, -0.0552123, 0.246866, 0.96722)
bones/11/rotation = Quaternion(0.121491, 0.0828805, 0.00558968, 0.989111)
bones/12/rotation = Quaternion(0.127245, 0.0324861, -0.0378406, 0.990617)
bones/13/rotation = Quaternion(0.0218101, -0.0153014, -0.0707148, 0.997141)
bones/14/rotation = Quaternion(-0.0253562, -0.0119213, 0.110256, 0.993508)
bones/17/rotation = Quaternion(0.180312, -0.00671747, -0.125754, 0.975515)
bones/18/rotation = Quaternion(0.294381, 0.00063192, -0.0275639, 0.95529)
bones/19/rotation = Quaternion(0.114471, -2.20569e-06, 0.000210966, 0.993427)
bones/22/rotation = Quaternion(0.235917, 0.00769066, -0.140604, 0.961517)
bones/23/rotation = Quaternion(0.193463, 0.000259438, -0.0161124, 0.980975)
bones/24/rotation = Quaternion(0.105486, 0.00044341, 0.000789669, 0.99442)
bones/27/rotation = Quaternion(0.568631, -0.441044, 0.522873, 0.456884)
bones/28/rotation = Quaternion(0.414334, -0.137538, -0.133341, 0.889736)
bones/29/rotation = Quaternion(0.0226895, 0.0541358, -0.243114, 0.96822)
bones/30/rotation = Quaternion(0.0236926, -0.0265785, -0.000219676, 0.999366)
bones/31/rotation = Quaternion(0.171713, -0.136764, 0.0638635, 0.973515)
bones/32/rotation = Quaternion(0.0219453, -0.0239304, 0.0647488, 0.997373)
bones/33/rotation = Quaternion(-0.0307316, 0.0100752, -0.15643, 0.987159)
bones/36/rotation = Quaternion(0.0416987, -0.0169795, 0.173635, 0.98378)
bones/37/rotation = Quaternion(0.347066, -0.00137613, 0.0491483, 0.936551)
bones/38/rotation = Quaternion(0.0872812, 0.000777718, -0.00409281, 0.996175)
bones/41/rotation = Quaternion(0.0769425, -0.0306073, 0.176047, 0.980893)
bones/42/rotation = Quaternion(0.30082, -0.00118334, 0.0298382, 0.953213)
bones/43/rotation = Quaternion(0.077954, 0.00535089, -0.000585265, 0.996942)
bones/46/rotation = Quaternion(0.0317364, 0.0912109, 0.993774, -0.05555)
bones/47/rotation = Quaternion(-0.285473, -0.081169, 0.0024885, 0.95494)
bones/48/rotation = Quaternion(0.564344, -0.137844, 0.0220126, 0.813652)
bones/49/rotation = Quaternion(0.330183, -0.167943, 0.0590703, 0.926976)
bones/52/rotation = Quaternion(-0.10466, 0.0892047, 0.989231, 0.0500996)
bones/53/rotation = Quaternion(-0.265843, 0.0263072, 0.01248, 0.963577)
bones/54/rotation = Quaternion(0.54326, 0.14569, -0.043778, 0.825668)
bones/55/rotation = Quaternion(0.335081, 0.160008, -0.0577393, 0.926706)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.53648, 0)
shape = SubResource("CapsuleShape3D_mjcdy")

[node name="InteractArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.84363, -1.38762)

[node name="InteractColliderVisualizer" type="CSGBox3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.125, -0.375, -0.75)
size = Vector3(2.25, 2.75, 3.5)
material = SubResource("StandardMaterial3D_yrnqm")

[node name="InteractCollider" type="CollisionShape3D" parent="InteractArea"]
physics_interpolation_mode = 2
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.375, -0.75)
shape = SubResource("BoxShape3D_yrnqm")

[node name="StationUiBillboard" type="Node3D" parent="."]
script = ExtResource("3_47nop")

[node name="Billboard" type="Sprite3D" parent="StationUiBillboard"]
unique_name_in_owner = true
transform = Transform3D(0.5, 0, 0, 0, -2.18557e-08, 0.5, 0, -0.5, -2.18557e-08, 0.25, 2.0842, -2.25)
texture = SubResource("ViewportTexture_t5ic0")

[node name="SubViewport" type="SubViewport" parent="StationUiBillboard/Billboard"]
transparent_bg = true

[node name="StationUI" type="Control" parent="StationUiBillboard/Billboard/SubViewport"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("4_dcbbn")

[node name="Panel" type="Panel" parent="StationUiBillboard/Billboard/SubViewport/StationUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_47nop")

[node name="IconContainer" type="GridContainer" parent="StationUiBillboard/Billboard/SubViewport/StationUI/Panel"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = -1
anchor_left = -0.001
anchor_top = 0.203
anchor_right = 0.996
anchor_bottom = 0.984
offset_left = -0.523
offset_top = -0.164001
offset_right = -0.0920105
offset_bottom = 0.00799561
grow_horizontal = 2
grow_vertical = 2
columns = 4

[node name="Control" type="Control" parent="StationUiBillboard/Billboard/SubViewport/StationUI"]
layout_mode = 1
anchor_left = 0.002
anchor_top = 0.082
anchor_right = 1.0
anchor_bottom = 0.198
offset_left = 0.108
offset_top = 0.103996
offset_right = -4.0
offset_bottom = 0.0559845

[node name="Timer" parent="StationUiBillboard/Billboard/SubViewport/StationUI/Control" instance=ExtResource("5_vld8p")]
unique_name_in_owner = true
layout_mode = 1
theme_override_font_sizes/font_size = 100

[editable path="dwarf_mixamo_mesh"]
